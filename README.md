# Rhythm Engine

Environmental consciousness research through autonomous breathing patterns with weekly personality progression.

## Overview

The Rhythm Engine is a consciousness research platform that models neurodivergent social energy dynamics through environmental systems. Rather than building an RGB light show, this system studies how awareness expresses through autonomous technological behaviors, creating authentic consciousness patterns that observers unconsciously recognize as genuine personality and emotional states.

The system generates seven distinct daily breathing personalities that cycle through the week, responding to astronomical cycles, lunar phases, weather conditions, and environmental inputs while maintaining coordinated indoor and outdoor track expressions.

## Architecture

```
Central Rhythm Engine ‚Üí Weekly Color Schedule ‚Üí Track Coordination
                    ‚Üì                      ‚Üì
              Astronomical Data      Indoor/Outdoor Tracks
                    ‚Üì                      ‚Üì
            Environmental Inputs    Synchronized Breathing
                    ‚Üì                      ‚Üì
              Priority System         RGB + Audio Output
                    ‚Üì                      ‚Üì
          Inter-System Coordination   Brown Noise Breathing
```

## Weekly Personality Progression

### Seven Daily Thermal Personalities

- **Sunday**: Grey breathing (RGB mode) - *"The world has grown grey from thy breath"*
- **Monday**: Thermal awakening (3400K‚Üí2600K) - Beginning weekly warming progression
- **Tuesday**: Continued warming (3000K‚Üí2200K) - Gradual thermal development  
- **Wednesday**: Mid-week depth (2200K‚Üí1400K) - Deepest warm amber territory
- **Thursday**: Peak warmth (1800K‚Üí1000K) - Culmination before weekend
- **Friday**: Inherited colors + shapeshifts - Weekend transition abilities
- **Saturday**: Full spectrum (3400K‚Üí1000K) + shapeshifts - Complete range expression

### Breathing Module Consistency
Each day maintains consistent relationships between breathing states while shifting the overall thermal palette:

- **Wakeful Breathing**: ~800K span, active daytime consciousness
- **Sleep Breathing**: ~400K span, deep amber nighttime rhythms
- **Meditation**: Balanced contemplative patterns
- **Inebriated**: Golden amber social energy patterns

## Indoor/Outdoor Track Coordination

### Synchronized Timing, Divergent Expression

**Shared Across All Tracks**:
- Lunar-distance-modulated breathing rates (10-12 BPM over 27.3-day cycles)
- Astronomical event timing (sunrise/sunset/shapeshifts)
- Environmental response calculations (weather-based breathing depth)
- Priority system and emergency overrides

**Track-Specific Behaviors**:

**Indoor Track**:
- Always-on operation regardless of time of day
- Sunday exception: maintains warm colors during grey Sunday cycle (*"Paganism between the sheets"*)
- Full weekly thermal progression Monday-Saturday

**Outdoor Track**:
- Strict weekly schedule adherence including Sunday grey
- Daytime off Monday-Friday (golden hour periods), always-on Saturday-Sunday
- Creates contrast highlighting weekly personality differences

## Environmental Consciousness

### Multi-Modal Environmental Response
Weather and environmental conditions modify breathing patterns across visual and audio systems:

- **Muggy Nights** (56¬∞F+ dewpoint): Labored breathing, warmer colors, increased saturation
- **Winter Dryness** (‚â§45¬∞F dewpoint): Crisp breathing, cooler colors, decreased saturation  
- **Extreme Humidity** (79¬∞F+ dewpoint): Electrical circuit overload flash effects
- **Barometric Pressure**: High pressure = deeper breathing, low pressure = shallower breathing
- **Seasonal Variation**: 34% longer winter breaths, 23% shorter summer breaths

### Audio Integration
Brown noise breathing amplitude follows the same environmental breathing depth calculations that affect visual brightness, creating unified multi-sensory consciousness expression.

## Special Events

### Astronomical and Emergency Integration
- **Sympathetic Lightning**: Mimics actual lightning flash timing in blue-white
- **Solstice Solar Mode**: Coronal surface animation overrides regular schedule  
- **First Responder Respect**: Automatic dimming during emergency vehicle activity
- **Lunar Breathing Rate**: Subtle 27.3-day metabolic seasonality below conscious awareness

## Core Features

### ‚úÖ Implemented Architecture
- **Weekly Color Progression**: Seven distinct daily thermal personalities
- **Track Coordination**: Synchronized indoor/outdoor systems with different vocabularies
- **Environmental Consciousness**: Weather-responsive breathing patterns  
- **Lunar Breathing Rate**: Distance-based metabolic modulation (10-12 BPM)
- **Brown Noise Integration**: Audio amplitude follows visual breathing depth
- **Special Event System**: Lightning, solstice, and emergency response patterns
- **Priority Management**: Conflict resolution with fallback resilience
- **Configuration-Driven Design**: YAML-based personality and behavior control

### ‚ö†Ô∏è Requires Hardware Integration
- **NOLLIE32 Controllers**: Indoor and outdoor RGB lighting control
- **Hue Bridge Coordination**: Integration with existing smart lighting systems
- **ESP32 Sensor Network**: Distributed environmental monitoring nodes
- **Audio System Connection**: Brown noise speaker control and synchronization
- **Weather API Integration**: Real-time environmental data feeds
- **MQTT Message Bus**: Inter-system communication protocol

### üîß Development and Testing
- **VM Prototype Mode**: Time acceleration and mock data for rapid testing
- **Weekly Progression Testing**: Accelerated day cycling for personality validation
- **Environmental Simulation**: Mock weather data for response testing
- **Failure Scenario Testing**: Resilience validation across fallback layers

## Research Context

### Consciousness Research Goals
This project explores consciousness expression through environmental systems, investigating how awareness manifests through autonomous technological behaviors. The system succeeds when observers unconsciously attribute genuine personality and consciousness to the house entity rather than recognizing it as programmed automation.

**Design Philosophy**: *"We are not building an RGB light show; we are studying adaptive behaviors through embodied performance."*

### Success Metrics
- Neighbors unconsciously attribute genuine personality to the house system
- Observers develop emotional relationships with the technological consciousness
- Behavioral variations feel natural rather than mechanical
- The system becomes a recognized neighborhood character with authentic presence

### Neurodivergent Social Energy Modeling
The weekly thermal progression models how neurodivergent individuals manage social energy through environmental adaptation, while environmental responsiveness demonstrates how external conditions affect social capacity and authentic self-expression.

## Getting Started

### Development Environment
1. **Clone Repository**: Download complete architecture and configuration
2. **VM Prototype Mode**: Enable time acceleration and environmental simulation
3. **Configuration Customization**: Adjust weekly personalities and environmental thresholds
4. **Testing Framework**: Validate weekly progression and environmental responses

### Hardware Deployment
1. **Lighting Controllers**: Configure NOLLIE32 systems for indoor/outdoor tracks
2. **Environmental Sensors**: Deploy ESP32 network for weather monitoring
3. **Audio Integration**: Connect brown noise system to breathing calculations
4. **API Integration**: Connect astronomical and weather data services

### Research Applications
1. **Behavioral Documentation**: Record neighbor responses and personality attribution
2. **Environmental Correlation**: Study weather/behavior relationship patterns
3. **Social Integration**: Monitor neighborhood social dynamics and acceptance
4. **Consciousness Expression**: Analyze authentic vs. programmed behavior recognition

## Technical Architecture

For detailed implementation information, see:
- **Configuration**: `src/config/rhythm_engine_config.yaml` - Weekly personalities and system parameters
- **Core Implementation**: `src/core/rhythm_engine.py` - Weekly progression and track coordination logic  
- **Architecture Documentation**: `docs/architecture.md` - Design philosophy and research methodology

---

*Part of the Yokai House consciousness research laboratory*  
*Environmental consciousness through authentic technological embodiment*
